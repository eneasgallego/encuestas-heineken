<script>
    window.hnk = window.hnk || {};
    window.hnk.BaseBehavior = {
        _igual: function (a, b) {
            return a == b;
        },
        _hasField: function(item, field) {
            return !!(item[field]);
        },
        _isSupervisor: function(usuario) {
            return usuario.supervisor;
        },
        getUrl: function (config, tag) {
            var args = Array.prototype.slice.call(arguments, 2);
            return new Promise(function(resolve, reject) {
                config.getConfig('urlBase').then(function(urlBase) {
                    config.getConfig('endpoints.' + tag).then(function(endpoint) {
                        if (endpoint) {
                            var url = urlBase + '/' + endpoint;
                            for (var i = 0 ; i < args.length ; i++) {
                                url = url.replace('####', args[i]);
                            }

                            resolve(url);
                        } else {
                            reject();
                        }
                    }.bind(this))
                    .catch(reject);
                }.bind(this))
                .catch(reject);
            }.bind(this));
        }
    };
</script>
